<script>
  document.addEventListener("DOMContentLoaded", () => {
    const phoneNumber = '+34677368437';

    document.querySelectorAll('.phrase').forEach((phraseEl) => {
      const container = phraseEl.parentElement;
      const copyButton = container.querySelector('.copyButton');
      const waLink = container.querySelector('.whatsappLink');

      if (!copyButton || !waLink) return; // safety check

      // Dynamically set WhatsApp link
      waLink.href = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(phraseEl.innerText)}`;

      // Copy & show success message
      copyButton.addEventListener('click', () => {
        navigator.clipboard.writeText(phraseEl.innerText)
          .then(() => {
            const originalText = copyButton.innerText;
            copyButton.innerText = 'âœ… Copied!';
            setTimeout(() => {
              copyButton.innerText = originalText;
            }, 1500);
          })
          .catch(err => console.error('Failed to copy text:', err));
      });
    });
  });
</script>
